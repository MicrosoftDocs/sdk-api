---
UID: NI:winioctl.FSCTL_SET_OBJECT_ID_EXTENDED
title: FSCTL_SET_OBJECT_ID_EXTENDED
description: Modifies user data associated with the object identifier for the specified file or directory.
helpviewer_keywords: ["FSCTL_SET_OBJECT_ID_EXTENDED","FSCTL_SET_OBJECT_ID_EXTENDED control","FSCTL_SET_OBJECT_ID_EXTENDED control code [Files]","_win32_fsctl_set_object_id_extended","base.fsctl_set_object_id_extended","fs.fsctl_set_object_id_extended","winioctl/FSCTL_SET_OBJECT_ID_EXTENDED"]
old-location: fs\fsctl_set_object_id_extended.htm
tech.root: fs
ms.assetid: e17dc58f-3fa7-4069-b8ec-16331438b832
ms.date: 12/05/2018
ms.keywords: FSCTL_SET_OBJECT_ID_EXTENDED, FSCTL_SET_OBJECT_ID_EXTENDED control, FSCTL_SET_OBJECT_ID_EXTENDED control code [Files], _win32_fsctl_set_object_id_extended, base.fsctl_set_object_id_extended, fs.fsctl_set_object_id_extended, winioctl/FSCTL_SET_OBJECT_ID_EXTENDED
req.header: winioctl.h
req.include-header: Windows.h
req.target-type: Windows
req.target-min-winverclnt: Windows XP [desktop apps only]
req.target-min-winversvr: Windows Server 2003 [desktop apps only]
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.lib: 
req.dll: 
req.irql: 
targetos: Windows
req.typenames: 
req.redist: 
f1_keywords:
 - FSCTL_SET_OBJECT_ID_EXTENDED
 - winioctl/FSCTL_SET_OBJECT_ID_EXTENDED
dev_langs:
 - c++
topic_type:
 - APIRef
 - kbSyntax
api_type:
 - HeaderDef
api_location:
 - WinIoCtl.h
api_name:
 - FSCTL_SET_OBJECT_ID_EXTENDED
---

# FSCTL_SET_OBJECT_ID_EXTENDED IOCTL


## -description

Modifies user data associated with  the object identifier for the specified file or directory.

To perform this operation, call the [**DeviceIoControl**](../ioapiset/nf-ioapiset-deviceiocontrol.md) function with the following parameters.

```cpp
BOOL DeviceIoControl(
  (HANDLE) hDevice,                 // handle to device
  FSCTL_SET_OBJECT_ID_EXTENDED,     // dwIoControlCode
  (LPVOID) lpInBuffer,              // input buffer
  (DWORD) nInBufferSize,            // size of input buffer
  NULL,                             // lpOutBuffer
  0,                                // nOutBufferSize
  (LPDWORD) lpBytesReturned,        // number of bytes returned
  (LPOVERLAPPED) lpOverlapped       // OVERLAPPED structure
);
```

## -ioctlparameters

### -input-buffer

### -input-buffer-length

### -output-buffer

### -output-buffer-length

### -in-out-buffer

### -inout-buffer-length

### -status-block

Irp->IoStatus.Status is set to STATUS_SUCCESS if the request is successful.

Otherwise, Status to the appropriate error condition as a NTSTATUS code. 

For more information, see [NTSTATUS Values](/windows-hardware/drivers/kernel/ntstatus-values).

## -remarks

Object identifiers are used  to track  files and directories. They are invisible to most applications and should never be modified by applications. Modifying an object identifier can result in the loss of data from portions of a file, up to and including entire volumes of data. 

This operation sets the user data only in the object identifier. Possible uses are to store a time stamp for the creation of the object identifier or a monotonically increasing version number. The **ObjectId** member of the [FILE_OBJECTID_BUFFER](ns-winioctl-file_objectid_buffer.md) structure is ignored. There is no mechanism for modifying the **ObjectId** member. The typical use of the **FSCTL_SET_OBJECT_ID_EXTENDED** control code is where the application  does not use the user data generated by the NTFS file system when the system creates the object identifier.

To set the object identifier on an object that does not already have one, use the [FSCTL_SET_OBJECT_ID](ni-winioctl-fsctl_set_object_id.md) control code. To have the NTFS file system generate an object identifier if one does not exist, use the [FSCTL_CREATE_OR_GET_OBJECT_ID](ni-winioctl-fsctl_create_or_get_object_id.md) control code.

Note that the time stamps may not be updated correctly for a remote file. To ensure consistent results, use unbuffered I/O.

In Windows 8 and Windows Server 2012, this code is supported by the following technologies.

Technology | Supported
-----------|----------
Server Message Block (SMB) 3.0 protocol | Yes
SMB 3.0 Transparent Failover (TFO) | Yes
SMB 3.0 with Scale-out File Shares (SO) | Yes
Cluster Shared Volume File System (CsvFS) | Yes
Resilient File System (ReFS) | No

## -see-also

* [CreateFile](../fileapi/nf-fileapi-createfilea.md)
* [DeviceIoControl](../ioapiset/nf-ioapiset-deviceiocontrol.md)
* [FILE_OBJECTID_BUFFER](ns-winioctl-file_objectid_buffer.md)
* [FSCTL_CREATE_OR_GET_OBJECT_ID](ni-winioctl-fsctl_create_or_get_object_id.md)
* [FSCTL_DELETE_OBJECT_ID](ni-winioctl-fsctl_delete_object_id.md)
* [FSCTL_GET_OBJECT_ID](ni-winioctl-fsctl_get_object_id.md)
* [FSCTL_SET_OBJECT_ID](ni-winioctl-fsctl_set_object_id.md)
* [Object Identifiers](/windows/desktop/FileIO/distributed-link-tracking-and-object-identifiers)